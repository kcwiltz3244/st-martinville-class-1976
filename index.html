<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMSH Class of 1976 - 50th Reunion</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --school-purple: #4B0082;
      --school-gold: #FFD700;
      --deep-purple: #300052;
    }

    body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
    
    /* Navbar Styling */
    .navbar { background-color: var(--school-purple) !important; border-bottom: 4px solid var(--school-gold); }
    .navbar-brand { font-family: 'Playfair Display', serif; font-weight: bold; color: var(--school-gold) !important; }
    .brand-accent { color: var(--school-gold) !important; }
    .nav-link { transition: 0.3s; }
    .nav-link:hover { color: var(--school-gold) !important; }

    /* Hero Section with Tiger Background */
    .hero-section {
      background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                  url('https://upload.wikimedia.org/wikipedia/commons/b/b0/Bengal_Tiger_at_Kanha_National_Park.jpg') center/cover;
      padding: 120px 0;
      color: white;
      text-align: center;
    }

    /* RSVP Section Styles */
    .rsvp-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 12px;
      max-height: 400px;
      overflow-y: auto;
      padding: 10px;
    }
    .attendee-name {
      background: white;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      border-left: 5px solid var(--school-purple);
      font-weight: 600;
      color: #333;
    }

    /* Table/Tracker Styles */
    .table thead { background-color: var(--deep-purple); color: white; }
    .badge-done { background-color: #28a745; }
    .badge-progress { background-color: #ffc107; color: #000; }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container">
      <a class="navbar-brand" href="#">SMSH <span class="brand-accent">'76</span> REUNION</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto text-uppercase small fw-bold">
          <li class="nav-item"><a class="nav-link px-3" href="#rsvp">Who's Coming</a></li>
          <li class="nav-item"><a class="nav-link px-3" href="#calendar">Meetings</a></li>
          <li class="nav-item"><a class="nav-link px-3" href="#tasks">Task Tracker</a></li>
          <li class="nav-item"><a class="nav-link px-3" href="#memorial">Memorial</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <header class="hero-section">
    <div class="container">
      <h1 class="display-2 fw-bold mb-3">50th Class Reunion</h1>
      <p class="lead fs-3">Celebrating Half a Century of Tiger Pride</p>
      <div id="countdown" class="display-4 fw-bold text-warning my-4"></div>
      <p class="text-uppercase ls-2">Until October 15, 2026</p>
    </div>
  </header>

  <section id="rsvp" class="py-5 bg-light">
    <div class="container text-center">
      <h2 class="mb-4">Who's Coming?</h2>
      
      <div class="alert shadow mb-4" style="background: var(--deep-purple); border: 2px solid var(--school-gold); border-radius: 15px;">
        <h4 class="mb-0 fw-bold" style="color: var(--school-gold); letter-spacing: 1px;">
          <span id="finalTotal">...</span> Classmates & Guests Confirmed!
        </h4>
      </div>

      <div class="mb-5">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdNH2rLwb6w9zvIE113HT4Ru0yNCUORL29ijm2Jg4Ws2Bu8sA/viewform?usp=header" target="_blank" class="btn btn-lg shadow" style="background-color: var(--school-purple); color: var(--school-gold); border: 2px solid var(--school-gold); padding: 15px 45px; font-weight: bold; border-radius: 50px;">
          üìù Click Here to RSVP
        </a>
      </div>

      <div id="yesListContainer" class="p-4 bg-white rounded shadow-sm border">
          <div class="rsvp-grid" id="attendeeGrid">
            <p class="text-muted w-100">Connecting to attendee list...</p>
          </div>
      </div>
    </div>
  </section>

  <section id="calendar" class="py-5 bg-white">
    <div class="container">
      <h2 class="text-center mb-5">Meetings & Events</h2>

      <div class="card mb-5 shadow border-0" style="background: var(--school-gold); border-radius: 15px;">
        <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center p-4">
          <div class="mb-3 mb-md-0">
            <h3 class="fw-bold mb-0" style="color: var(--deep-purple);">Meeting Notes</h3>
            <p class="text-dark mb-0">View latest planning minutes and financial updates.</p>
          </div>
          <a href="YOUR_GOOGLE_DRIVE_LINK_HERE" target="_blank" class="btn btn-dark btn-lg px-5 shadow rounded-pill">Open Folder</a>
        </div>
      </div>

      <div class="mx-auto shadow border rounded overflow-hidden" style="max-width: 900px;">
        <iframe src="https://calendar.google.com/calendar/embed?src=fbcf3427770ee3c74ba269d485ba49d39d6ea67f45be295d849f038ba7c79497%40group.calendar.google.com&ctz=America%2FChicago&showTitle=0" style="border: 0" width="100%" height="500" frameborder="0" scrolling="no"></iframe>
      </div>
    </div>
  </section>

  <section id="tasks" class="py-5 bg-light">
    <div class="container">
      <h2 class="text-center mb-4">Task Tracker</h2>
      <div class="table-responsive shadow bg-white rounded">
        <table class="table table-hover align-middle mb-0">
          <thead>
            <tr>
              <th class="p-3">Task Description</th>
              <th>Who</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="p-3">Venue Scouting & Contract</td>
              <td>Committee</td>
              <td><span class="badge badge-progress">In Progress</span></td>
            </tr>
            <tr>
              <td class="p-3">Launch 50th Reunion Website</td>
              <td>Tech Team</td>
              <td><span class="badge badge-done">Completed</span></td>
            </tr>
            <tr>
              <td class="p-3">Alumni Outreach Phase 1</td>
              <td>Volunteer Group</td>
              <td><span class="badge badge-progress">Ongoing</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <section id="memorial" class="py-5 text-white" style="background-color: var(--deep-purple);">
    <div class="container text-center">
      <h2 class="mb-4" style="color: var(--school-gold);">In Loving Memory</h2>
      <p class="mb-5 fst-italic">"Forever in our hearts, forever a Tiger."</p>
      <div class="row row-cols-2 row-cols-md-4 g-4 fw-light">
        <div class="col">Tyrone Bowles</div>
        <div class="col">Sherman Hypolite</div>
        </div>
    </div>
  </section>

  <script>
    const API_URL = 'https://script.google.com/macros/s/AKfycbxK7JP2N2kFfEYl1xakGg-v6_VpQyW8NhlSAom7gm8K3cSGY5pWmkUDL8f3aEK_fpWhhw/exec';

    // Countdown Logic
    function updateCountdown() {
      const target = new Date("October 15, 2026 18:00:00").getTime();
      const now = new Date().getTime();
      const diff = target - now;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      document.getElementById("countdown").innerText = days + " Days To Go!";
    }

    // Fetch Attendee Data
    async function loadData() {
      try {
        const response = await fetch(API_URL);
        const data = await response.json();
        const grid = document.getElementById('attendeeGrid');
        
        // Fix for 0 display: checks common JSON keys
        const count = data.totalGuests || data.total || 0;
        document.getElementById('finalTotal').innerText = count;

        if (data.attendees && data.attendees.length > 0) {
          grid.innerHTML = data.attendees.map(name => `<div class="attendee-name">${name}</div>`).join('');
        } else {
          grid.innerHTML = '<p class="text-muted">No RSVPs yet. Be the first!</p>';
        }
      } catch (e) {
        console.error("Data load failed", e);
        document.getElementById('attendeeGrid').innerHTML = '<p class="text-danger">Could not load list.</p>';
      }
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
    loadData();
  </script>
</body>
</html>
