<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMSH Class of 1976 - 50th Reunion</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --school-purple: #4B0082;
      --school-gold: #FFD700;
      --deep-purple: #300052;
    }

    body { font-family: 'Poppins', sans-serif; background-color: #f8f9fa; }
    
    /* Navbar / Header */
    .navbar { background-color: var(--school-purple) !important; border-bottom: 4px solid var(--school-gold); }
    .navbar-brand { font-family: 'Playfair Display', serif; font-weight: bold; color: var(--school-gold) !important; }
    /* Banner SMSH '76 Fix */
    .brand-accent { color: var(--school-gold) !important; }

    /* RSVP Grid Styling */
    .rsvp-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
      max-height: 400px;
      overflow-y: auto;
      padding: 15px;
    }
    .attendee-name {
      background: white;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      border-left: 4px solid var(--school-purple);
      font-size: 0.95rem;
    }

    /* Task Tracker Styles */
    .task-status-done { color: #28a745; font-weight: bold; }
    .task-status-pending { color: #ffc107; font-weight: bold; }

    .btn-school { background-color: var(--school-purple); color: var(--school-gold); border: 2px solid var(--school-gold); font-weight: bold; }
    .btn-school:hover { background-color: var(--school-gold); color: var(--school-purple); }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container">
      <a class="navbar-brand" href="#">SMSH <span class="brand-accent">'76</span> REUNION</a>
    </div>
  </nav>

  <header class="py-5 bg-dark text-white text-center" style="background: linear-gradient(rgba(48,0,82,0.8), rgba(48,0,82,0.8)), url('https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&w=1500&q=80') center/cover;">
    <div class="container py-5">
      <h1 class="display-3 fw-bold mb-3">50th Class Reunion</h1>
      <p class="lead mb-4">Save the Date: October 2026</p>
      <div id="countdown" class="d-flex justify-content-center gap-3 fs-2 fw-bold text-warning">
        </div>
    </div>
  </header>

  <section id="rsvp" class="py-5 bg-light">
    <div class="container text-center">
      <h2 class="mb-4">Who's Coming?</h2>
      
      <div class="alert shadow mb-4" style="background: var(--deep-purple); border: 2px solid var(--school-gold); border-radius: 15px;">
        <h4 class="mb-0 fw-bold" style="color: var(--school-gold); letter-spacing: 1px;">
          <span id="finalTotal">...</span> Classmates & Guests Confirmed!
        </h4>
      </div>

      <div class="mb-5">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdNH2rLwb6w9zvIE113HT4Ru0yNCUORL29ijm2Jg4Ws2Bu8sA/viewform?usp=header" target="_blank" class="btn btn-lg btn-school px-5 py-3 rounded-pill shadow">
          üìù Click Here to RSVP
        </a>
      </div>

      <div id="yesListContainer" class="p-3 bg-white shadow-sm rounded">
          <div class="rsvp-grid" id="attendeeGrid">
            <p class="text-muted w-100 py-3">Loading confirmed attendees...</p>
          </div>
      </div>
    </div>
  </section>

  <section id="calendar" class="py-5 bg-white border-top">
    <div class="container">
      <h2 class="text-center mb-4">Events & Meetings</h2>
      <div class="ratio ratio-16x9 shadow border rounded bg-white mb-4">
        <iframe src="https://calendar.google.com/calendar/embed?src=fbcf3427770ee3c74ba269d485ba49d39d6ea67f45be295d849f038ba7c79497%40group.calendar.google.com&ctz=America%2FChicago&showTitle=0&showNav=1" style="border: 0" frameborder="0" scrolling="no"></iframe>
      </div>

      <div class="list-group shadow-sm mx-auto" style="max-width: 600px;">
        <a href="YOUR_GOOGLE_DRIVE_LINK_HERE" target="_blank" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center p-3" style="border-left: 6px solid var(--school-gold);">
          <span><strong>Meeting Notes</strong></span>
          <span class="btn btn-sm btn-school">Open Folder</span>
        </a>
      </div>
    </div>
  </section>

  <section id="tasks" class="py-5 bg-light">
    <div class="container">
      <h2 class="text-center mb-4">Task Tracker</h2>
      <div class="table-responsive shadow-sm bg-white rounded">
        <table class="table table-hover align-middle mb-0">
          <thead class="table-dark" style="background-color: var(--deep-purple);">
            <tr>
              <th>Task Description</th>
              <th>Assignee</th>
              <th>Due Date</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Finalize Venue Contract</td>
              <td>Planning Committee</td>
              <td>Mar 2026</td>
              <td><span class="task-status-pending">In Progress</span></td>
            </tr>
            <tr>
              <td>Launch Website</td>
              <td>Tech Team</td>
              <td>Feb 2026</td>
              <td><span class="task-status-done">Completed</span></td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class="text-center mt-3 small text-muted">Click the "Meeting Notes" folder above to see the full detailed task list.</p>
    </div>
  </section>

  <section id="memorial" class="py-5 text-white" style="background-color: var(--deep-purple);">
    <div class="container text-center">
      <h2 class="mb-4" style="color: var(--school-gold);">In Loving Memory</h2>
      <p class="mb-5">Remembering our classmates who are with us in spirit.</p>
      <div class="row row-cols-2 row-cols-md-4 g-4">
        <div class="col">Tyrone Bowles</div>
        <div class="col">Sherman Hypolite</div>
      </div>
    </div>
  </section>

  <script>
    // Set your API link for the "Who's Coming" list here
    const API_URL = 'https://script.google.com/macros/s/AKfycbxK7JP2N2kFfEYl1xakGg-v6_VpQyW8NhlSAom7gm8K3cSGY5pWmkUDL8f3aEK_fpWhhw/exec';

    async function loadData() {
      try {
        const response = await fetch(API_URL);
        const data = await response.json();
        
        const grid = document.getElementById('attendeeGrid');
        const totalSpan = document.getElementById('finalTotal');
        
        grid.innerHTML = '';
        totalSpan.innerText = data.totalGuests || 0;

        data.attendees.forEach(name => {
          const div = document.createElement('div');
          div.className = 'attendee-name';
          div.innerHTML = `<strong>${name}</strong>`;
          grid.appendChild(div);
        });
      } catch (e) {
        console.error("Error loading attendee data", e);
      }
    }

    // Simple Countdown (Target Oct 15, 2026)
    function updateCountdown() {
      const target = new Date("October 15, 2026 18:00:00").getTime();
      const now = new Date().getTime();
      const diff = target - now;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      document.getElementById("countdown").innerText = days + " Days To Go!";
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
    loadData();
  </script>
</body>
</html>
